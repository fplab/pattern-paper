% !TEX root= pattern-paper.tex

\begin{figure}[ht]
  \judgbox{\ctruify{\xi_1} = \xi_2}{}

  \begin{align*}
    \ctruify{\cinj{C}{\tau}{\xi}}     & = \cinj{C}{\tau}{\ctruify{\xi}}     \\
    \ctruify{\cinj{\notC}{\tau}{\xi}} & = \cinj{\notC}{\tau}{\ctruify{\xi}}
  \end{align*}

  \judgbox{\cfalsify{\xi_1} = \xi_2}{}

  \begin{align*}
    \cfalsify{\cinj{C}{\tau}{\xi}}     & = \cinj{C}{\tau}{\cfalsify{\xi}}     \\
    \cfalsify{\cinj{\notC}{\tau}{\xi}} & = \cinj{\notC}{\tau}{\cfalsify{\xi}}
  \end{align*}

  \judgbox{\cincon{\Xi}}{}

  \begin{mathpar}
    \Infer{\CINCInjType}{
      \cinj{C'}{\tau'}{\xi'} \in \Xi \\
      \tau' \neq \tau
    }{
      \cincon{\Xi,\cinj{C}{\tau}{\xi}}
    }

    \Infer{\CINCInjTag}{
      \cinj{\tagC'}{\tau}{\xi'} \in \Xi \\
      \tagC \neq \tagC'
    }{
      \cincon{\Xi,\cinj{\tagC}{\tau}{\xi}}
    }

    \Infer{\CINCInjOne}{
    \Xi = \Xi' \cup \{\cinj{\tagC}{\tau}{\xi_i}\}_{0 < i < |\Xi| - |\Xi'|} \\
    \cincon{\{\xi_i\}_{0 < i < |\Xi| - |\Xi'|}, \xi}
    }{
    \cincon{\Xi,\cinj{\tagC}{\tau}{\xi}}
    }

    \Infer{\CINCInjTwo}{
    \Xi = \Xi' \cup \{\cinj{\tagC}{\tau}{\xi_i}\}_{0 < i < |\Xi| - |\Xi'|} \\
    \cincon{\Xi',\cinj{\tagC}{\tau}{\xi}}
    }{
    \cincon{\Xi,\cinj{\tagC}{\tau}{\xi}}
    }

    % \Infer{\CINCInjNot}{
    %   \cinj{\nottagC}{\tau}{\xi'} \in \Xi
    % }{
    %   \cincon{\Xi,\cinj{\tagC}{\tau}{\xi}}
    % }

    % \Infer{\CINCNotInj}{
    %   \cinj{C'}{\tau'}{\xi'} \in \Xi \\
    %   \tau' \neq \tau
    % }{
    %   \cincon{\Xi,\cinj{\notC}{\tau}{\xi}}
    % }

    % \Infer{\CINCNotInj}{
    %   \cinj{\notC'}{\tau'}{\xi'} \in \Xi \\
    %   \tau' \neq \tau
    % }{
    %   \cincon{\Xi,\cinj{\notC}{\tau}{\xi}}
    % }

    % \Infer{\CINCNotInj}{
    %   \cinj{C}{\tau}{\xi'} \in \Xi
    % }{
    %   \cincon{\Xi,\cinj{\notC}{\tau}{\xi}}
    % }

    % \Infer{\CINCNotInj}{
    %   \cinj{C'}{\tau}{\xi'} \in \Xi \\
    %   C' \neq \tagC \\
    %   \cincon{\xi,\xi'}
    % }{
    %   \cincon{\Xi,\cinj{\nottagC}{\tau}{\xi}}
    % }
  \end{mathpar}

  \caption{Decidability of labeled sums}
  \label{fig:labeled-sums-decidability}
\end{figure}
